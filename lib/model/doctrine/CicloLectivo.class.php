<?php

/**
 * CicloLectivo
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @package    sig
 * @subpackage model
 * @author     Your name here
 * @version    SVN: $Id: Builder.php 7490 2010-03-29 19:53:27Z jwage $
 */
class CicloLectivo extends BaseCicloLectivo
{
  public function getIdCicloLectivoActual()
  {
/*	  $q = Doctrine_Query::create()
	    ->from('CicloLectivo c')
	    ->where('inicio < ?' , date("Y-m-d"))
	    ->andWhere('fin > ?' , date("Y-m-d"));
	

		if(count($q->fetchOne())!=0) {
            		return 0;
		} else {
                        foreach ($this->ciclolectivo as $ciclo_lectivo){ $ciclo=$ciclo_lectivo->getId(); }
			return $ciclo;
        	}	 
*/

return 1;

/*
      $this->ciclolectivo = Doctrine_Core::getTable('CicloLectivo')
					->createQuery('a')
					->where('inicio < ?' , date("Y-m-d"))
					->andWhere('fin > ?' , date("Y-m-d"))
					->execute();	
				if(count($this->ciclolectivo)==0){

					return 0;

				}else{

                                       // en caso de encontrarse el ciclo lectivo, se lo busca
                                       foreach ($this->ciclolectivo as $ciclo_lectivo){ $ciclo=$ciclo_lectivo->getId(); }
					return $ciclo;
                                }*/
}	
}
