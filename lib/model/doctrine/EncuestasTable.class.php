<?php

/**
 * EncuestasTable
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class EncuestasTable extends Doctrine_Table
{
    /**
     * Returns an instance of this class.
     *
     * @return object EncuestasTable
     */
    public static function getInstance()
    {
        return Doctrine_Core::getTable('Encuestas');
    }
    
    // Obtiene la ultima encuesta
    public function obtenerUltimaEncuesta($idcarrera,$idsede)
    {
    	$q = Doctrine_Query::create()
    	->select('e.*')
    	->from('Encuestas e')
    	->where('e.idcarrera = ?', $idcarrera)
    	->andWhere('e.idsede = ?', $idsede)
    	->orderBy('e.idencuesta DESC');
    
    	return $q->fetchOne();
    }    
}